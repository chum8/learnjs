<!-- Lesson 61.  The DOM:  Junk artifacts and nodetype -->

<html>
	<head>
		<link rel="stylesheet" href="js-helper.css" style="text/css" />
		<title>JavaScript Lesson 61. The DOM: Junk artifacts and nodetype</title>
	</head>

	<body>
		<div id="humpty">
			<p>All the king's horses.</p>
			<p>All the king's crew.</p>
			<p>Couldn't reassemble humpty.</p>
		</div>
		<a href="JavaScript:void(0)" onClick="fixMyNode();">Click to fix the text of the second node</a><br /><br />
		<a href="index.html">Return to lesson list</a>
	</body>

	<script>
function fixMyNode() {
	var d = document.getElementById("humpty");
	var pCounter = 0;
	for (var i = 0; i < d.childNodes.length; i++) {
		if (d.childNodes[i].nodeType === 1 ) { //nodetype 1 if <div> or <p>, 3 if text
			pCounter++;
		}
		if (pCounter === 2) {
			d.childNodes[i].innerHTML = "All his men.";
			break;
		}
	}
}
	</script>	
</html>
